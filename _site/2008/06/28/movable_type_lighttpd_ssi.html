<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="Linghua Zhang" />
    <title>Movable Type + Lighttpd + SSI</title>
    <link rel="shortcut icon" href="/favicon.ico">
    <link href="/atom.xml" rel="alternate" title="setImpl" type="application/atom+xml" />
    <link rel="stylesheet" href="/media/css/style.css">
    <link rel="stylesheet" href="/media/css/github.css">
    <script type="text/javascript" src="/media/js/highlight.pack.js"></script>
    <script type="text/javascript">
      hljs.initHighlightingOnLoad();
      </script>
    </head>
    <body>
      <div id="container">
        <div id="main" role="main">
          <header>
          <h1>Movable Type + Lighttpd + SSI</h1>
          </header>
          <nav>
          <span><a title="home page" class="" href="/">home</a></span>
          <span><a title="archives" class="" href="/archives.html">gallery</a></span>
          <span><a title="about" class="" href="/about.html">about me</a></span>
          <span><a title="my photos" class="" href="http://www.flickr.com/photos/lhzhang">gallery</a></span>
          <span><a title="blogroll" class="" href="/links.html">links</a></span>
          <span><a title="subscribe me" class="" href="/atom.xml">feed</a></span>
          </nav>
          <article class="content">
          <section class="post">
<p>SSI (Server Side Includes), 简单讲就是可以在一个文件里包含另一个文件, 而这个过程是在客户端进行请求是由服务器来自动完成.</p>

<p>利用SSI, 我们可以将页面中多变的部分和不经常变换的或者是多个页面共通的部分分离开来, 从而加快重建速度. 例如, 我们可以将页面的header部分分离出来, 这样即使在修改了header之后, 也只需要重建header的文件就可以保证全站页面的sidebar保持统一</p>

<p>在Movable Type里启用SSI很简单</p>

<ul>
<li><p>首先启用MT的SSI发布功能, 进入Publish属性设置, 找到Module Options下的Service Side Includes, 设置为Apache Sever-Side Includes, lighttpd? 没关系, 也是这个</p>

<p><img src="/media/images/2008/06/29/mt-pub-ssi.png" alt="Publish Preference" /></p>

<p>愿意的话也可以把File Extension从html改成shtml, 便于http server区分, 不过并不是必要的</p></li>
<li><p>然后在Design里编辑想要分离出来的Template或者Widget, 在Template Options里选中Process as SHTML include</p>

<p><img src="/media/images/2008/06/29/mt-tmpl-opt.png" alt="Template Options" /></p></li>
</ul>


<p>接着是lighttpd端的设置, 编辑lighttpd.conf (/etc/lighttpd/), 在server.modules里加入mod_ssi, 如 :</p>

<pre><code>server.modules = (
    "mod_access",
    "mod_alias",
    "mod_accesslog",
    "mod_rewrite",
    "mod_redirect",
    "mod_ssi",
    "mod_fastcgi",
)
</code></pre>

<p>在后面加入ssi module的设置</p>

<pre><code>#ssi
ssi.extension= ( ".html" )
</code></pre>

<p>然后去MT的后台重新发布全站即可</p>

</section>
<section class="meta">

<span class="tags">
  tagged by 
  
  movabletype&nbsp;
  
  lighttpd&nbsp;
  
  ssi&nbsp;
  
</span>

<span class="time">
  <time datetime="2008-06-28">2008-06-28</time>
</span>

          </article>
        </div>
      </div> <!--! end of #container -->
    </body>
  </html>
